# Устранение проблем с моделью Mark 23

## Проблемы и решения

### 1. Модель не отображается
**Возможные причины:**
- Файл модели поврежден или отсутствует
- Проблемы с загрузкой GLB файла
- Неправильные настройки Three.js

**Решения:**
- Проверьте, что файл `mark_23__animated_free.glb` существует в папке `src/models/`
- Убедитесь, что Vite настроен для обработки GLB файлов в `vite.config.ts`
- Проверьте консоль браузера на наличие ошибок загрузки

### 2. Модель отображается неправильно (слишком большая/маленькая)
**Решение:**
Отрегулируйте параметры в компоненте `GLBModel`:
```tsx
<primitive 
  object={scene} 
  scale={[0.3, 0.3, 0.3]} // Измените масштаб
  position={[0, -0.5, 0]} // Измените позицию
  rotation={[0, Math.PI / 6, 0]} // Измените поворот
/>
```

### 3. Проблемы с производительностью
**Решения:**
- Уменьшите качество рендеринга в настройках Canvas
- Отключите ненужные источники света
- Используйте LOD (Level of Detail) для модели

### 4. Ошибки TypeScript
**Решение:**
Убедитесь, что файл `src/types/three-jsx.d.ts` содержит все необходимые типы для JSX элементов Three.js.

### 5. Модель не анимируется
**Проверьте:**
- Правильно ли настроен `useFrame` хук
- Есть ли анимации в самом GLB файле
- Правильно ли работает `meshRef`

## Тестирование модели

Для тестирования модели используйте компонент `ModelTest`:
```tsx
import ModelTest from './components/ModelTest';

// В вашем приложении
<ModelTest />
```

## Рекомендуемые настройки

### Освещение
```tsx
<ambientLight intensity={0.7} />
<directionalLight position={[10, 10, 5]} intensity={1.2} />
<pointLight position={[-10, -10, -5]} intensity={0.8} />
<spotLight 
  position={[0, 10, 0]} 
  angle={0.3} 
  penumbra={1} 
  intensity={0.5} 
  castShadow 
/>
```

### Камера
```tsx
camera={{ position: [0, 0, 5], fov: 45 }}
```

### Canvas настройки
```tsx
gl={{ antialias: true, alpha: true }}
```

## Fallback решения

Если модель не загружается, используется простой робот:
```tsx
if (error) {
  return <SimpleRobot />;
}
```

## Отладка

1. Откройте консоль браузера (F12)
2. Проверьте вкладку Network на наличие ошибок загрузки GLB файла
3. Проверьте вкладку Console на ошибки JavaScript
4. Используйте React DevTools для проверки состояния компонентов 