# Автотесты для Language Jeopardy

Этот проект содержит end-to-end тесты для приложения Language Jeopardy, написанные с использованием Playwright.

## Структура тестов

```
tests/
├── e2e/                    # End-to-end тесты
│   ├── homepage.spec.ts    # Тесты главной страницы
│   ├── navigation.spec.ts  # Тесты навигации
│   └── game-flow.spec.ts   # Тесты игрового процесса
├── helpers/
│   └── test-utils.ts       # Вспомогательные функции
└── README.md              # Эта документация
```

## Установка и настройка

1. Установите Playwright:
```bash
npm install --save-dev @playwright/test
```

2. Установите браузеры:
```bash
npx playwright install
```

## Запуск тестов

### Основные команды

```bash
# Запуск всех тестов
npm run test:e2e

# Запуск тестов с UI интерфейсом
npm run test:e2e:ui

# Запуск тестов в видимом режиме (headed)
npm run test:e2e:headed

# Запуск тестов в режиме отладки
npm run test:e2e:debug
```

### Запуск конкретных тестов

```bash
# Запуск только тестов главной страницы
npx playwright test homepage.spec.ts

# Запуск тестов с определенным тегом
npx playwright test --grep "homepage"

# Запуск только в Chromium (единственный браузер)
npm run test:e2e:chrome

# Запуск в Chromium в видимом режиме
npm run test:e2e:chrome:headed

# Запуск в Chromium в режиме отладки
npm run test:e2e:chrome:debug
```

## Описание тестов

### Homepage Tests (`homepage.spec.ts`)
- Загрузка главной страницы
- Отображение элементов приветственного экрана
- Проверка выпадающего списка для выбора листа
- Состояние загрузки
- Стили и макет
- Взаимодействие с формой
- Таблица лидеров
- Обработка ошибок

### Navigation Tests (`navigation.spec.ts`)
- Навигация по игровому процессу
- Сохранение состояния при обновлении страницы

### Game Flow Tests (`game-flow.spec.ts`)
- Полный процесс настройки игры
- Создание нескольких игроков

## Вспомогательные функции

Класс `TestUtils` предоставляет общие функции для тестов:
- `waitForAppLoad()` - ожидание загрузки приложения
- `selectSheet()` - выбор листа
- `createNewPlayer()` - создание нового игрока
- `expectWelcomeScreen()` - проверка приветственного экрана
- `expectGameStarted()` - проверка начала игры

## Конфигурация

Конфигурация Playwright находится в файле `playwright.config.ts` в корне проекта.

### Поддерживаемые браузеры
- Chromium (единственный активный браузер для тестирования)
- Firefox, WebKit, Mobile браузеры (закомментированы в конфигурации)

## Отчеты

После запуска тестов отчеты доступны в папке `playwright-report/`.

## Отладка

Для отладки тестов используйте:
```bash
npm run test:e2e:debug
```

Это откроет браузер в режиме отладки, где вы можете пошагово выполнять тесты.

## CI/CD

Тесты настроены для работы в CI/CD среде. В CI:
- Количество повторных попыток: 2
- Количество воркеров: 1
- Автоматический запуск dev-сервера 